<main id="main" class="main">
  <div class="pagetitle d-flex justify-content-between">
    <div>
      <h1>Danh sách thuốc cùng hoạt chất</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a routerLink="/dashboard">Trang chủ</a>
          </li>
          <li class="breadcrumb-item">
            <a routerLink="/dashboard/medicine-activeSubstance">Hoạt chất</a>
          </li>
          <li class="breadcrumb-item active">Danh sách sản phẩm cùng hoạt chất</li>
        </ol>
      </nav>
    </div>
  </div>
  <div class="row" *ngIf="productHaveActiveSubstance == null">
    <b class="col-8" style="font-size: 20px">Chưa có sản phẩm chứa hoạt chất {{nameOld}}</b>
    <div class="col-4" style="text-align: right">
                <button nz-button (click)="showModal()" style=" border-radius: 20px; background-color: rgb(71, 160, 243); color: white">
                  <span nz-icon nzType="edit" nzTheme="outline" style="font-size: 20px">Thay đổi tên hoạt chất</span></button>
                <nz-modal [(nzVisible)]="isVisible" nzTitle="Thay đổi tên hoạt chất"
                    nzCancelText="Hủy" nzOkText="Thay đổi" (nzOnOk)="handleOk()" (nzOnCancel)="handleCancel()">
                    <ng-container *nzModalContent>
                        <nz-form-label nzRequired for="inputName5" class="form-label">Tên hoạt chất</nz-form-label>
                        <input type="text" class="form-control" id="inputName" [(ngModel)]="name" >
                        <div *ngIf="checkError == true">
                            <small style="color: red;">Vui lòng nhập tên hoạt chất</small>
                        </div>
                    </ng-container>
                </nz-modal>
            </div>
  </div>
  <div *ngIf="productHaveActiveSubstance != null">
    <div class="row">
      <b class="col-8" style="font-size: 20px">Sản phẩm có chứa hoạt chất {{nameOld}}</b>
    <div class="col-4" style="text-align: right">
                <button nz-button (click)="showModal()" style=" border-radius: 20px; background-color: rgb(71, 160, 243); color: white">
                  <span nz-icon nzType="edit" nzTheme="outline" style="font-size: 20px">Thay đổi tên hoạt chất</span></button>
                <nz-modal [(nzVisible)]="isVisible" nzTitle="Thay đổi tên nhà sản xuất"
                    nzCancelText="Hủy" nzOkText="Thay đổi" (nzOnOk)="handleOk()" (nzOnCancel)="handleCancel()">
                    <ng-container *nzModalContent>
                        <nz-form-label nzRequired for="inputName5" class="form-label">Tên hoạt chất</nz-form-label>
                        <input type="text" class="form-control" id="inputName" [(ngModel)]="name" >
                        <div *ngIf="checkError == true">
                            <small style="color: red;">Vui lòng nhập tên hoạt chất</small>
                        </div>
                    </ng-container>
                </nz-modal>
            </div>
    </div>
  </div>
  <div class="col-12">
    <nz-table #basicTable [nzData]="productHaveActiveSubstance" style="text-align: center; font-size: 18px;">
      <thead>
        <tr>
          <th scope="col" style="text-align: center;">Mã đăng kí</th>
          <th scope="col" style="text-align: center;">Tên sản phẩm</th>
          <th scope="col" style="text-align: center;">Nhà cung cấp</th>
          <th scope="col" style="text-align: center;"></th>
        </tr>
      </thead>
      <tbody *ngFor="let products of basicTable.data" style="text-align: center;">
        <tr>
          <td scope="row">{{products.drugRegistrationNumber}}</td>
          <td >{{products.name}}</td>
          <td>{{products.brand.name}}</td>
          <td>
            <u (click)="detail(products.id)" style="color: rgb(55, 158, 248)">Xem chi tiết sản phẩm</u>
        </td>
      </tbody>
    </nz-table>
  </div>
</main>
